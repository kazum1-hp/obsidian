è·³è·ƒåˆ—è¡¨ï¼ˆSkip Listï¼‰æ˜¯ä¸€ç§åŸºäºå¤šçº§ç´¢å¼•çš„æœ‰åºé“¾è¡¨æ•°æ®ç»“æ„ï¼Œâ€‹é€šè¿‡åœ¨é“¾è¡¨ä¸Šå¢åŠ å¤šå±‚â€œè·³è·ƒâ€æŒ‡é’ˆï¼Œå®ç°æ¥è¿‘ O(log n) çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ•ˆç‡ã€‚â€‹[skiplist.readthedocs.io+6çŸ¥ä¹ä¸“æ +6CSDN+6](https://zhuanlan.zhihu.com/p/68516038?utm_source=chatgpt.com)

---

### è·³è·ƒåˆ—è¡¨çš„åŸºæœ¬ç»“æ„

è·³è·ƒåˆ—è¡¨ç”±å¤šä¸ªå±‚çº§ç»„æˆï¼šâ€‹[Wikipedia+1cnblogs.com+1](https://en.wikipedia.org/wiki/Skip_list?utm_source=chatgpt.com)

- **åº•å±‚**æ˜¯ä¸€ä¸ªå®Œæ•´çš„æœ‰åºé“¾è¡¨ï¼ŒåŒ…å«æ‰€æœ‰å…ƒç´ ã€‚
    
- **æ¯ä¸€å±‚**éƒ½æ˜¯ä¸‹ä¸€å±‚çš„å­é›†ï¼Œå½¢æˆå¤šä¸ªâ€œå¿«é€Ÿé€šé“â€ã€‚
    
- **æ¯ä¸ªèŠ‚ç‚¹**åŒ…å«å¤šä¸ªå‰å‘æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸åŒå±‚çº§çš„åç»§èŠ‚ç‚¹ã€‚â€‹[Wikipedia+1mattjhall.co.uk+1](https://en.wikipedia.org/wiki/Skip_list?utm_source=chatgpt.com)
    

èŠ‚ç‚¹çš„å±‚æ•°é€šå¸¸é€šè¿‡éšæœºå‡½æ•°å†³å®šï¼Œâ€‹ä¾‹å¦‚æŠ›ç¡¬å¸ï¼Œç›´åˆ°å‡ºç°åé¢ä¸ºæ­¢ï¼Œå†³å®šè¯¥èŠ‚ç‚¹çš„å±‚æ•°ã€‚â€‹è¿™ç§éšæœºåŒ–ä½¿å¾—è·³è·ƒåˆ—è¡¨åœ¨å¹³å‡æƒ…å†µä¸‹å…·æœ‰è‰¯å¥½çš„æ€§èƒ½ã€‚â€‹[Wikipedia+8cnblogs.com+8GeeksforGeeks+8](https://www.cnblogs.com/sky-heaven/p/14929108.html?utm_source=chatgpt.com)[cnblogs.com](https://www.cnblogs.com/linfangnan/p/12435841.html?utm_source=chatgpt.com)[Wikipedia+2CSDN+2cnblogs.com+2](https://blog.csdn.net/liu_xinLL/article/details/135711974?utm_source=chatgpt.com)

---

### è·³è·ƒåˆ—è¡¨çš„æ ¸å¿ƒæ“ä½œ

#### æŸ¥æ‰¾ï¼ˆSearchï¼‰

ä»æœ€é«˜å±‚çš„å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå‘å³ç§»åŠ¨ï¼Œç›´åˆ°é‡åˆ°å¤§äºç›®æ ‡å€¼çš„èŠ‚ç‚¹ï¼Œç„¶åå‘ä¸‹ç§»åŠ¨ä¸€å±‚ï¼Œé‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°åˆ°è¾¾åº•å±‚ã€‚â€‹å¦‚æœåœ¨æŸä¸€å±‚æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸã€‚â€‹[è…¾è®¯äº‘ - äº§ä¸šæ™ºå˜ äº‘å¯æœªæ¥](https://cloud.tencent.com/developer/article/2203772?utm_source=chatgpt.com)

#### æ’å…¥ï¼ˆInsertï¼‰

1. ä½¿ç”¨æŸ¥æ‰¾æ“ä½œæ‰¾åˆ°æ¯ä¸€å±‚ä¸­æ’å…¥ä½ç½®çš„å‰é©±èŠ‚ç‚¹ã€‚
    
2. éšæœºå†³å®šæ–°èŠ‚ç‚¹çš„å±‚æ•°ã€‚
    
3. åœ¨æ¯ä¸€å±‚ä¸­ï¼Œå°†æ–°èŠ‚ç‚¹æ’å…¥åˆ°å‰é©±èŠ‚ç‚¹ä¹‹åã€‚â€‹
    

#### åˆ é™¤ï¼ˆDeleteï¼‰

1. ä½¿ç”¨æŸ¥æ‰¾æ“ä½œæ‰¾åˆ°æ¯ä¸€å±‚ä¸­ç›®æ ‡èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ã€‚
    
2. åœ¨æ¯ä¸€å±‚ä¸­ï¼Œæ›´æ–°å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè·³è¿‡ç›®æ ‡èŠ‚ç‚¹ã€‚
    
3. é‡Šæ”¾ç›®æ ‡èŠ‚ç‚¹çš„å†…å­˜ã€‚â€‹[cs.emory.edu+11mattjhall.co.uk+11cnblogs.com+11](https://mattjhall.co.uk/posts/skiplists.html?utm_source=chatgpt.com)


ä»¥ä¸‹æ˜¯ä¸€ä¸ªç”¨ C++ å®ç°çš„è·³è·ƒåˆ—è¡¨ï¼ˆSkip Listï¼‰çš„ç¤ºä¾‹ä»£ç ï¼Œæ”¯æŒæ’å…¥ã€æŸ¥æ‰¾å’Œåˆ é™¤æ“ä½œã€‚è¯¥å®ç°ä½¿ç”¨æ¨¡æ¿ç±»ï¼Œæ”¯æŒä»»æ„å¯æ¯”è¾ƒçš„æ•°æ®ç±»å‹ã€‚

---

### ğŸ§± è·³è·ƒåˆ—è¡¨çš„åŸºæœ¬ç»“æ„

è·³è·ƒåˆ—è¡¨æ˜¯ä¸€ç§å¤šå±‚çº§çš„æœ‰åºé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«å¤šä¸ªå‰å‘æŒ‡é’ˆï¼Œç”¨äºåœ¨ä¸åŒå±‚çº§ä¸Šè·³è·ƒæŸ¥æ‰¾ã€‚èŠ‚ç‚¹çš„å±‚æ•°é€šè¿‡éšæœºå‡½æ•°å†³å®šï¼Œä»¥ä¿æŒç»“æ„çš„å¹³è¡¡æ€§ã€‚

---

### ğŸ“„ C++ å®ç°ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–çš„è·³è·ƒåˆ—è¡¨å®ç°ï¼š

```cpp
#include <iostream>
#include <cstdlib>
#include <ctime>
#include <vector>
#include <climits>

const int MAX_LEVEL = 16; // æœ€å¤§å±‚æ•°
const float P = 0.5;      // ç”Ÿæˆæ–°å±‚çš„æ¦‚ç‡

template<typename T>
class SkipListNode {
public:
    T key;
    std::vector<SkipListNode*> forward;

    SkipListNode(int level, const T& key) : key(key), forward(level, nullptr) {}
};

template<typename T>
class SkipList {
private:
    int level;
    SkipListNode<T>* header;

public:
    SkipList() {
        level = 1;
        header = new SkipListNode<T>(MAX_LEVEL, T());
        std::srand(static_cast<unsigned>(std::time(nullptr)));
    }

    ~SkipList() {
        SkipListNode<T>* node = header;
        while (node) {
            SkipListNode<T>* next = node->forward[0];
            delete node;
            node = next;
        }
    }

    int randomLevel() {
        int lvl = 1;
        while (((double)std::rand() / RAND_MAX) < P && lvl < MAX_LEVEL)
            lvl++;
        return lvl;
    }

    void insert(const T& key) {
        std::vector<SkipListNode<T>*> update(MAX_LEVEL, nullptr);
        SkipListNode<T>* x = header;
        for (int i = level - 1; i >= 0; i--) {
            while (x->forward[i] && x->forward[i]->key < key)
                x = x->forward[i];
            update[i] = x;
        }
        x = x->forward[0];
        if (!x || x->key != key) {
            int lvl = randomLevel();
            if (lvl > level) {
                for (int i = level; i < lvl; i++)
                    update[i] = header;
                level = lvl;
            }
            x = new SkipListNode<T>(lvl, key);
            for (int i = 0; i < lvl; i++) {
                x->forward[i] = update[i]->forward[i];
                update[i]->forward[i] = x;
            }
        }
    }

    bool search(const T& key) const {
        SkipListNode<T>* x = header;
        for (int i = level - 1; i >= 0; i--) {
            while (x->forward[i] && x->forward[i]->key < key)
                x = x->forward[i];
        }
        x = x->forward[0];
        return x && x->key == key;
    }

    void remove(const T& key) {
        std::vector<SkipListNode<T>*> update(MAX_LEVEL, nullptr);
        SkipListNode<T>* x = header;
        for (int i = level - 1; i >= 0; i--) {
            while (x->forward[i] && x->forward[i]->key < key)
                x = x->forward[i];
            update[i] = x;
        }
        x = x->forward[0];
        if (x && x->key == key) {
            for (int i = 0; i < level; i++) {
                if (update[i]->forward[i] != x)
                    break;
                update[i]->forward[i] = x->forward[i];
            }
            delete x;
            while (level > 1 && header->forward[level - 1] == nullptr)
                level--;
        }
    }

    void display() const {
        for (int i = level - 1; i >= 0; i--) {
            SkipListNode<T>* x = header->forward[i];
            std::cout << "Level " << i + 1 << ": ";
            while (x) {
                std::cout << x->key << " ";
                x = x->forward[i];
            }
            std::cout << std::endl;
        }
    }
};
```

---

### ğŸ§ª ä½¿ç”¨ç¤ºä¾‹

```cpp
int main() {
    SkipList<int> list;
    list.insert(3);
    list.insert(6);
    list.insert(7);
    list.insert(9);
    list.insert(12);
    list.insert(19);
    list.insert(17);
    list.insert(26);
    list.insert(21);
    list.insert(25);

    std::cout << "Original list:" << std::endl;
    list.display();

    std::cout << "\nSearch for 19: " << (list.search(19) ? "Found" : "Not Found") << std::endl;

    list.remove(19);
    std::cout << "\nAfter deleting 19:" << std::endl;
    list.display();

    return 0;
}
```

---

### ğŸ“š å‚è€ƒèµ„æ–™

- [è·³è·ƒè¡¨è¯¦è§£åŠå…¶C++ç¼–ç¨‹å®ç° - CSDNåšå®¢](https://blog.csdn.net/JMW1407/article/details/109749094) ([è·³è·ƒè¡¨ï¼ˆskiplist ï¼‰è¯¦è§£åŠå…¶C++ç¼–ç¨‹å®ç°åŸåˆ› - CSDNåšå®¢](https://blog.csdn.net/JMW1407/article/details/109749094?utm_source=chatgpt.com))
    

---

å¦‚æœæ‚¨å¯¹è·³è·ƒåˆ—è¡¨çš„å®ç°æœ‰è¿›ä¸€æ­¥çš„å…´è¶£ï¼Œæ¨èé˜…è¯»ä»¥ä¸‹èµ„æºï¼š

- [è·³è·ƒè¡¨è¯¦è§£åŠå…¶C++ç¼–ç¨‹å®ç° - CSDNåšå®¢](https://blog.csdn.net/JMW1407/article/details/109749094)
    
- [è·³è·ƒè¡¨çš„å®ç° - åšå®¢å›­](https://www.cnblogs.com/sky-heaven/p/14929108.html)
    

è¿™äº›æ–‡ç« æä¾›äº†æ›´è¯¦ç»†çš„è§£é‡Šå’Œå®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼Œæœ‰åŠ©äºæ·±å…¥ç†è§£è·³è·ƒåˆ—è¡¨çš„å·¥ä½œåŸç†å’Œå®ç°ç»†èŠ‚ã€‚

---